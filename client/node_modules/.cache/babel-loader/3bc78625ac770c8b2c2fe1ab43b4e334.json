{"ast":null,"code":"var _jsxFileName = \"/Users/kaitlynbreuil/Desktop/Wyncode-ish/authenticated-blog/client/src/pages/Dashboard.jsx\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Card, Button, Container } from 'react-bootstrap';\nimport axios from 'axios';\nimport { AppContext } from '../context/AppContext';\nimport NavBar from '../components/NavBar';\n\nconst Dashboard = ({\n  history\n}) => {\n  const {\n    user,\n    loggedIn\n  } = useContext(AppContext);\n  const [myBlogs, setMyBlogs] = useState([]);\n  const token = localStorage.getItem('token');\n  useEffect(() => {\n    if (user && loggedIn) {\n      axios.get('/blogs/user', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      }).then(({\n        data\n      }) => console.log(data));\n    }\n  }, [user, setMyBlogs, myBlogs]);\n\n  const addNewBlog = () => {\n    if (user) {\n      history.push('/add');\n    }\n  };\n\n  const editBlog = () => {};\n\n  const deleteBlog = ({\n    id\n  }) => {\n    axios({\n      method: 'DELETE',\n      url: `/blogs/${id}`,\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(res => res.status(204).json(res.data)).catch(err => console.log(err));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(NavBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, \"Welcome to your Dashboard!\"), /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, \"Your Blog Posts\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: addNewBlog,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, \"Add a Blog\"), myBlogs.map(blog => /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Card.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, blog.title), /*#__PURE__*/React.createElement(Card.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }, blog.text), /*#__PURE__*/React.createElement(Card.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 15\n    }\n  }, \"Edit\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 15\n    }\n  }, \"X\"))))));\n};\n\nexport default Dashboard;","map":{"version":3,"sources":["/Users/kaitlynbreuil/Desktop/Wyncode-ish/authenticated-blog/client/src/pages/Dashboard.jsx"],"names":["React","useContext","useEffect","useState","Card","Button","Container","axios","AppContext","NavBar","Dashboard","history","user","loggedIn","myBlogs","setMyBlogs","token","localStorage","getItem","get","headers","Authorization","then","data","console","log","addNewBlog","push","editBlog","deleteBlog","id","method","url","res","status","json","catch","err","map","blog","title","text"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { Card, Button, Container } from 'react-bootstrap';\nimport axios from 'axios';\nimport { AppContext } from '../context/AppContext';\nimport NavBar from '../components/NavBar';\n\nconst Dashboard = ({ history }) => {\n  const { user, loggedIn } = useContext(AppContext);\n  const [myBlogs, setMyBlogs] = useState([]);\n  const token = localStorage.getItem('token');\n\n  useEffect(() => {\n    if (user && loggedIn) {\n      axios\n        .get('/blogs/user', {\n          headers: { Authorization: `Bearer ${token}` }\n        })\n        .then(({ data }) => console.log(data));\n    }\n  }, [user, setMyBlogs, myBlogs]);\n\n  const addNewBlog = () => {\n    if (user) {\n      history.push('/add');\n    }\n  };\n  const editBlog = () => {};\n\n  const deleteBlog = ({ id }) => {\n    axios({\n      method: 'DELETE',\n      url: `/blogs/${id}`,\n      headers: { Authorization: `Bearer ${token}` }\n    })\n      .then((res) => res.status(204).json(res.data))\n      .catch((err) => console.log(err));\n  };\n  return (\n    <div>\n      <NavBar />\n      <h3>Welcome to your Dashboard!</h3>\n      <Container>\n        <h4>Your Blog Posts</h4>\n        <Button onClick={addNewBlog}>Add a Blog</Button>\n        {myBlogs.map((blog) => (\n          <Card>\n            <Card.Body>{blog.title}</Card.Body>\n            <Card.Body>{blog.text}</Card.Body>\n            <Card.Footer>\n              <Button variant=\"primary\">Edit</Button>\n              <Button variant=\"danger\">X</Button>\n            </Card.Footer>\n          </Card>\n        ))}\n      </Container>\n    </div>\n  );\n};\n\nexport default Dashboard;\n"]},"metadata":{},"sourceType":"module"}