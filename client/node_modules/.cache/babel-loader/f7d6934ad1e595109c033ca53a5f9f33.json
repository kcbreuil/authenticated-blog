{"ast":null,"code":"var _jsxFileName = \"/Users/kaitlynbreuil/Desktop/Wyncode-ish/authenticated-blog/client/src/components/Blog.jsx\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport { AppContext } from '../context/AppContext';\nimport { useParams } from 'react-router-dom';\nimport { Container, Form, Button, Card } from 'react-bootstrap';\nimport axios from 'axios';\nimport NavBar from './NavBar';\nimport './Blog.css';\nimport './Blogs.css';\n\nconst Blog = () => {\n  const {\n    blog,\n    setBlog,\n    comments,\n    setComments\n  } = useContext(AppContext);\n  const [commentInputShow, setCommentInputShow] = useState(false);\n  const [text, setText] = useState('');\n  const {\n    id\n  } = useParams();\n  useEffect(() => {\n    getBlog();\n    getComments();\n  }, []);\n\n  const getBlog = async () => {\n    await axios.get(`/blogs/${blog._id}`).then(({\n      data\n    }) => {\n      setBlog(data);\n    });\n  };\n\n  const getComments = async () => {\n    await axios.get(`/${id}/comments`).then(({\n      data\n    }) => {\n      setComments(data);\n    });\n  };\n\n  const handleCommentSubmit = e => {\n    e.preventDefault();\n    console.log(text);\n    axios({\n      method: 'POST',\n      url: `/comments/${id}/add`,\n      data: {\n        text\n      }\n    }).then(() => setCommentInputShow(false)).catch(error => console.log(error));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(NavBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Container, {\n    className: \"mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, blog && blog.title), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      whiteSpace: 'pre-line'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, blog && blog.text), /*#__PURE__*/React.createElement(Container, {\n    style: {\n      borderBottom: '1px solid gray'\n    },\n    className: \"d-flex justify-content-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }, \"Comments\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"mt-4\",\n    onClick: () => setCommentInputShow(!commentInputShow),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, \"Leave a Comment\")), comments.length < 1 ? /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, \"No Comments\")) : comments.map(comment => /*#__PURE__*/React.createElement(Card, {\n    key: comment._id,\n    className: \"mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Card.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 15\n    }\n  }, comment.text), /*#__PURE__*/React.createElement(Card.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 15\n    }\n  }, \"- @anonymous\"))), commentInputShow && /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleCommentSubmit,\n    className: \"mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    value: text,\n    type: \"text\",\n    placeholder: \"Add your comment here..\",\n    onChange: e => setText(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, \"Add Comment\"))));\n};\n\nexport default Blog;","map":{"version":3,"sources":["/Users/kaitlynbreuil/Desktop/Wyncode-ish/authenticated-blog/client/src/components/Blog.jsx"],"names":["React","useContext","useEffect","useState","AppContext","useParams","Container","Form","Button","Card","axios","NavBar","Blog","blog","setBlog","comments","setComments","commentInputShow","setCommentInputShow","text","setText","id","getBlog","getComments","get","_id","then","data","handleCommentSubmit","e","preventDefault","console","log","method","url","catch","error","title","whiteSpace","borderBottom","length","map","comment","target","value"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { AppContext } from '../context/AppContext';\nimport { useParams } from 'react-router-dom';\nimport { Container, Form, Button, Card } from 'react-bootstrap';\nimport axios from 'axios';\nimport NavBar from './NavBar';\nimport './Blog.css';\nimport './Blogs.css';\nconst Blog = () => {\n  const { blog, setBlog, comments, setComments } = useContext(AppContext);\n  const [commentInputShow, setCommentInputShow] = useState(false);\n  const [text, setText] = useState('');\n  const { id } = useParams();\n\n  useEffect(() => {\n    getBlog();\n    getComments();\n  }, []);\n\n  const getBlog = async () => {\n    await axios.get(`/blogs/${blog._id}`).then(({ data }) => {\n      setBlog(data);\n    });\n  };\n\n  const getComments = async () => {\n    await axios.get(`/${id}/comments`).then(({ data }) => {\n      setComments(data);\n    });\n  };\n\n  const handleCommentSubmit = (e) => {\n    e.preventDefault();\n    console.log(text);\n    axios({\n      method: 'POST',\n      url: `/comments/${id}/add`,\n      data: { text }\n    })\n      .then(() => setCommentInputShow(false))\n      .catch((error) => console.log(error));\n  };\n  return (\n    <div>\n      <NavBar />\n      <Container className=\"mt-4\">\n        <h3>{blog && blog.title}</h3>\n        <p style={{ whiteSpace: 'pre-line' }}>{blog && blog.text}</p>\n        <Container\n          style={{ borderBottom: '1px solid gray' }}\n          className=\"d-flex justify-content-between\"\n        >\n          <h5 className=\"mt-4\">Comments</h5>\n          <span\n            className=\"mt-4\"\n            onClick={() => setCommentInputShow(!commentInputShow)}\n          >\n            Leave a Comment\n          </span>\n        </Container>\n        {comments.length < 1 ? (\n          <Container>\n            <p className=\"mt-2\">No Comments</p>\n          </Container>\n        ) : (\n          comments.map((comment) => (\n            <Card key={comment._id} className=\"mt-2\">\n              <Card.Body>{comment.text}</Card.Body>\n              <Card.Footer>- @anonymous</Card.Footer>\n            </Card>\n          ))\n        )}\n        {commentInputShow && (\n          <Form onSubmit={handleCommentSubmit} className=\"mt-2\">\n            <Form.Group>\n              <Form.Control\n                value={text}\n                type=\"text\"\n                placeholder=\"Add your comment here..\"\n                onChange={(e) => setText(e.target.value)}\n              />\n            </Form.Group>\n            <Button type=\"submit\">Add Comment</Button>\n          </Form>\n        )}\n      </Container>\n    </div>\n  );\n};\n\nexport default Blog;\n"]},"metadata":{},"sourceType":"module"}