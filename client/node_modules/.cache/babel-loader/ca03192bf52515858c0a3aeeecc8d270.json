{"ast":null,"code":"var _jsxFileName = \"/Users/kaitlynbreuil/Desktop/Wyncode-ish/authenticated-blog/client/src/pages/Dashboard.jsx\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Card, Button } from 'react-bootstrap';\nimport axios from 'axios';\nimport { AppContext } from '../context/AppContext';\nimport NavBar from '../components/NavBar';\nimport swal from 'sweetalert';\n\nconst Dashboard = ({\n  id\n}) => {\n  const {\n    user\n  } = useContext(AppContext);\n  const [myBlogs, setMyBlogs] = useState([]);\n  const token = localStorage.getItem('token');\n  useEffect(() => {\n    if (user) {\n      axios.get('/blogs/user', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      }).then(({\n        data\n      }) => setMyBlogs(data));\n    }\n  }, [user, myBlogs]);\n\n  const editBlog = () => {};\n\n  const deleteBlog = () => {\n    axios({\n      method: 'DELETE',\n      url: `/blogs/${id}`,\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(res => res.status(204).json(res.data)).catch(err => console.log(err));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(NavBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }), myBlogs.map(blog => /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Card.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 11\n    }\n  }, blog.title), /*#__PURE__*/React.createElement(Card.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }\n  }, blog.text), /*#__PURE__*/React.createElement(Card.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, \"Edit\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: deleteBlog,\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, \"X\")))));\n};\n\nexport default Dashboard;","map":{"version":3,"sources":["/Users/kaitlynbreuil/Desktop/Wyncode-ish/authenticated-blog/client/src/pages/Dashboard.jsx"],"names":["React","useContext","useEffect","useState","Card","Button","axios","AppContext","NavBar","swal","Dashboard","id","user","myBlogs","setMyBlogs","token","localStorage","getItem","get","headers","Authorization","then","data","editBlog","deleteBlog","method","url","res","status","json","catch","err","console","log","map","blog","title","text"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,QAAvC,QAAuD,OAAvD;AACA,SAASC,IAAT,EAAeC,MAAf,QAA6B,iBAA7B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,uBAA3B;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,IAAP,MAAiB,YAAjB;;AAEA,MAAMC,SAAS,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAY;AAC5B,QAAM;AAAEC,IAAAA;AAAF,MAAWX,UAAU,CAACM,UAAD,CAA3B;AACA,QAAM,CAACM,OAAD,EAAUC,UAAV,IAAwBX,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAMY,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AAEAf,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIU,IAAJ,EAAU;AACRN,MAAAA,KAAK,CACFY,GADH,CACO,aADP,EACsB;AAClBC,QAAAA,OAAO,EAAE;AAAEC,UAAAA,aAAa,EAAG,UAASL,KAAM;AAAjC;AADS,OADtB,EAIGM,IAJH,CAIQ,CAAC;AAAEC,QAAAA;AAAF,OAAD,KAAcR,UAAU,CAACQ,IAAD,CAJhC;AAKD;AACF,GARQ,EAQN,CAACV,IAAD,EAAOC,OAAP,CARM,CAAT;;AAUA,QAAMU,QAAQ,GAAG,MAAM,CAAE,CAAzB;;AAEA,QAAMC,UAAU,GAAG,MAAM;AACvBlB,IAAAA,KAAK,CAAC;AACJmB,MAAAA,MAAM,EAAE,QADJ;AAEJC,MAAAA,GAAG,EAAG,UAASf,EAAG,EAFd;AAGJQ,MAAAA,OAAO,EAAE;AAAEC,QAAAA,aAAa,EAAG,UAASL,KAAM;AAAjC;AAHL,KAAD,CAAL,CAKGM,IALH,CAKSM,GAAD,IAASA,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBF,GAAG,CAACL,IAAzB,CALjB,EAMGQ,KANH,CAMUC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CANlB;AAOD,GARD;;AASA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEGlB,OAAO,CAACqB,GAAR,CAAaC,IAAD,iBACX,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAYA,IAAI,CAACC,KAAjB,CADF,eAEE,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAYD,IAAI,CAACE,IAAjB,CAFF,eAGE,oBAAC,IAAD,CAAM,MAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAEE,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAEb,UAAjB;AAA6B,IAAA,OAAO,EAAC,QAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAFF,CAHF,CADD,CAFH,CADF;AAiBD,CA3CD;;AA6CA,eAAed,SAAf","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { Card, Button } from 'react-bootstrap';\nimport axios from 'axios';\nimport { AppContext } from '../context/AppContext';\nimport NavBar from '../components/NavBar';\nimport swal from 'sweetalert';\n\nconst Dashboard = ({ id }) => {\n  const { user } = useContext(AppContext);\n  const [myBlogs, setMyBlogs] = useState([]);\n  const token = localStorage.getItem('token');\n\n  useEffect(() => {\n    if (user) {\n      axios\n        .get('/blogs/user', {\n          headers: { Authorization: `Bearer ${token}` }\n        })\n        .then(({ data }) => setMyBlogs(data));\n    }\n  }, [user, myBlogs]);\n\n  const editBlog = () => {};\n\n  const deleteBlog = () => {\n    axios({\n      method: 'DELETE',\n      url: `/blogs/${id}`,\n      headers: { Authorization: `Bearer ${token}` }\n    })\n      .then((res) => res.status(204).json(res.data))\n      .catch((err) => console.log(err));\n  };\n  return (\n    <div>\n      <NavBar />\n      {myBlogs.map((blog) => (\n        <Card>\n          <Card.Body>{blog.title}</Card.Body>\n          <Card.Body>{blog.text}</Card.Body>\n          <Card.Footer>\n            <Button variant=\"primary\">Edit</Button>\n            <Button onClick={deleteBlog} variant=\"danger\">\n              X\n            </Button>\n          </Card.Footer>\n        </Card>\n      ))}\n    </div>\n  );\n};\n\nexport default Dashboard;\n"]},"metadata":{},"sourceType":"module"}